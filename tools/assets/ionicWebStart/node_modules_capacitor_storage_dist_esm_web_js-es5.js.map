{"version":3,"sources":["webpack:///node_modules/@capacitor/storage/dist/esm/web.js"],"names":["StorageWeb","arguments","group","options","value","impl","getItem","applyPrefix","key","setItem","removeItem","keys","rawKeys","map","k","substring","prefix","length","migrated","existing","oldprefix","Object","filter","indexOf","oldkey","_a","get","currentValue","push","set","window","localStorage","WebPlugin"],"mappings":"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","file":"node_modules_capacitor_storage_dist_esm_web_js-es5.js","sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class StorageWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.group = 'CapacitorStorage';\n    }\n    async configure({ group }) {\n        if (typeof group === 'string') {\n            this.group = group;\n        }\n    }\n    async get(options) {\n        const value = this.impl.getItem(this.applyPrefix(options.key));\n        return { value };\n    }\n    async set(options) {\n        this.impl.setItem(this.applyPrefix(options.key), options.value);\n    }\n    async remove(options) {\n        this.impl.removeItem(this.applyPrefix(options.key));\n    }\n    async keys() {\n        const keys = this.rawKeys().map(k => k.substring(this.prefix.length));\n        return { keys };\n    }\n    async clear() {\n        for (const key of this.rawKeys()) {\n            this.impl.removeItem(key);\n        }\n    }\n    async migrate() {\n        var _a;\n        const migrated = [];\n        const existing = [];\n        const oldprefix = '_cap_';\n        const keys = Object.keys(this.impl).filter(k => k.indexOf(oldprefix) === 0);\n        for (const oldkey of keys) {\n            const key = oldkey.substring(oldprefix.length);\n            const value = (_a = this.impl.getItem(oldkey)) !== null && _a !== void 0 ? _a : '';\n            const { value: currentValue } = await this.get({ key });\n            if (typeof currentValue === 'string') {\n                existing.push(key);\n            }\n            else {\n                await this.set({ key, value });\n                migrated.push(key);\n            }\n        }\n        return { migrated, existing };\n    }\n    get impl() {\n        return window.localStorage;\n    }\n    get prefix() {\n        return this.group === 'NativeStorage' ? '' : `${this.group}.`;\n    }\n    rawKeys() {\n        return Object.keys(this.impl).filter(k => k.indexOf(this.prefix) === 0);\n    }\n    applyPrefix(key) {\n        return this.prefix + key;\n    }\n}\n//# sourceMappingURL=web.js.map"]}